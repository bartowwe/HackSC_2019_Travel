{"ast":null,"code":"import _classCallCheck from \"/Users/bartowweiss/Documents/GitHub/HackSC_2019_Travel_BRANCH/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/bartowweiss/Documents/GitHub/HackSC_2019_Travel_BRANCH/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/bartowweiss/Documents/GitHub/HackSC_2019_Travel_BRANCH/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/bartowweiss/Documents/GitHub/HackSC_2019_Travel_BRANCH/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/bartowweiss/Documents/GitHub/HackSC_2019_Travel_BRANCH/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/bartowweiss/Documents/GitHub/HackSC_2019_Travel_BRANCH/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/bartowweiss/Documents/GitHub/HackSC_2019_Travel_BRANCH/src/components/home.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport { places, GeoCoder, Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nimport { Redirect, Switch, Link, Route, BrowserRouter as Router } from 'react-router-dom';\nvar google = window.google;\nvar $ = window.$;\nvar geocoder = new google.maps.Geocoder();\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      startLat: \"\",\n      startLong: \"\",\n      destLat: \"\",\n      destLong: \"\"\n    };\n    _this.comparePrices = _this.comparePrices.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.initializeMap = _this.initializeMap.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.checkPrice = _this.checkPrice.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initializeMap();\n      var marker = new google.maps.Marker({\n        position: centerAroundCurrentLocation,\n        map: map\n      });\n    }\n  }, {\n    key: \"initializeMap\",\n    value: function initializeMap() {\n      function autocompleteStartLocation() {\n        var dest = document.getElementById('destField');\n        var autocomplete = new google.maps.places.Autocomplete(dest);\n      }\n\n      function autocompleteDestination() {\n        var initial = document.getElementById('initField');\n        var autocomplete = new google.maps.places.Autocomplete(initial);\n      }\n\n      google.maps.event.addDomListener(window, 'load', autocompleteStartLocation);\n      google.maps.event.addDomListener(window, 'load', autocompleteDestination);\n    }\n  }, {\n    key: \"checkPrice\",\n    value: function checkPrice() {\n      $('.spinner').css('display', 'inline-block');\n      var dest = document.getElementById('destField');\n      var initial = document.getElementById('initField'); // Get geocoder instance\n\n      var comparePrices = this.comparePrices.bind(this); // Geocode the address\n\n      geocoder.geocode({\n        'address': dest.value\n      }, function (results, status) {\n        if (status === google.maps.GeocoderStatus.OK && results.length > 0) {\n          //define results\n          var destLat = results[0].geometry.location.lat();\n          var destLong = results[0].geometry.location.lng(); //recurse with init\n\n          geocoder.geocode({\n            'address': initial.value\n          }, function (results, status) {\n            if (status === google.maps.GeocoderStatus.OK && results.length > 0) {\n              //define results\n              var startLat = results[0].geometry.location.lat();\n              var startLong = results[0].geometry.location.lng();\n              comparePrices(startLat, startLong, destLat, destLong); // show an error if it's not\n            } else {\n              alert(\"Error with destination field! Please try again and make sure the address is valid!\");\n              console.log(status);\n              console.log(results);\n            }\n          }); // show an error if it's not\n        } else {\n          alert(\"Error with destination field! Please try again and make sure the address is valid!\");\n          console.log(status);\n          console.log(results);\n        }\n      });\n    }\n  }, {\n    key: \"comparePrices\",\n    value: function comparePrices(startLat, startLong, destLat, destLong) {\n      console.log('hello');\n      axios.post('/search', {\n        startLatitude: startLat,\n        startLongitude: startLong,\n        endLatitude: destLat,\n        endLongitude: destLong\n      }).then(function (res) {}).catch(function (err) {\n        console.error(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"searchpage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"initField\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Initial Location\"), React.createElement(\"input\", {\n        className: \"searchBar\",\n        id: \"initField\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"destField\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Destination\"), React.createElement(\"input\", {\n        className: \"searchBar\",\n        id: \"destField\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-default\",\n        id: \"search\",\n        onClick: this.checkPrice,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Check Route!\"), React.createElement(\"span\", {\n        className: \"spinner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"double-bounce1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"double-bounce2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }))), React.createElement(Map, {\n        centerAroundCurrentLocation: true,\n        className: \"map\",\n        google: google,\n        style: {\n          height: '100%',\n          position: 'relative',\n          width: '100%'\n        },\n        zoom: 14,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/bartowweiss/Documents/GitHub/HackSC_2019_Travel_BRANCH/src/components/home.jsx"],"names":["React","axios","places","GeoCoder","Map","InfoWindow","Marker","GoogleApiWrapper","Redirect","Switch","Link","Route","BrowserRouter","Router","google","window","$","geocoder","maps","Geocoder","App","props","state","startLat","startLong","destLat","destLong","comparePrices","bind","initializeMap","checkPrice","marker","position","centerAroundCurrentLocation","map","autocompleteStartLocation","dest","document","getElementById","autocomplete","Autocomplete","autocompleteDestination","initial","event","addDomListener","css","geocode","value","results","status","GeocoderStatus","OK","length","geometry","location","lat","lng","alert","console","log","post","startLatitude","startLongitude","endLatitude","endLongitude","then","res","catch","err","error","height","width","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,GAA3B,EAAgCC,UAAhC,EAA4CC,MAA5C,EAAoDC,gBAApD,QAA4E,mBAA5E;AACA,SACEC,QADF,EAEEC,MAFF,EAGEC,IAHF,EAIEC,KAJF,EAKEC,aAAa,IAAIC,MALnB,QAMO,kBANP;AAUA,IAAMC,MAAM,GAAGC,MAAM,CAACD,MAAtB;AACA,IAAME,CAAC,GAAGD,MAAM,CAACC,CAAjB;AACA,IAAIC,QAAQ,GAAG,IAAIH,MAAM,CAACI,IAAP,CAAYC,QAAhB,EAAf;;IAEMC,G;;;;;AAEJ,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,6EAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,SAAS,EAAE,EAFA;AAGXC,MAAAA,OAAO,EAAE,EAHE;AAIXC,MAAAA,QAAQ,EAAE;AAJC,KAAb;AAMA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBC,IAAnB,uDAArB;AACA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBD,IAAnB,uDAArB;AACA,UAAKE,UAAL,GAAkB,MAAKA,UAAL,CAAgBF,IAAhB,uDAAlB;AAViB;AAWlB;;;;wCAEmB;AAClB,WAAKC,aAAL;AAEA,UAAIE,MAAM,GAAG,IAAIjB,MAAM,CAACI,IAAP,CAAYZ,MAAhB,CAAuB;AAClC0B,QAAAA,QAAQ,EAAEC,2BADwB;AAElCC,QAAAA,GAAG,EAAEA;AAF6B,OAAvB,CAAb;AAID;;;oCAEe;AACd,eAASC,yBAAT,GAAqC;AACnC,YAAIC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAX;AACA,YAAIC,YAAY,GAAG,IAAIzB,MAAM,CAACI,IAAP,CAAYhB,MAAZ,CAAmBsC,YAAvB,CAAoCJ,IAApC,CAAnB;AACD;;AAED,eAASK,uBAAT,GAAmC;AACjC,YAAIC,OAAO,GAAGL,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAd;AACA,YAAIC,YAAY,GAAG,IAAIzB,MAAM,CAACI,IAAP,CAAYhB,MAAZ,CAAmBsC,YAAvB,CAAoCE,OAApC,CAAnB;AACD;;AAED5B,MAAAA,MAAM,CAACI,IAAP,CAAYyB,KAAZ,CAAkBC,cAAlB,CAAiC7B,MAAjC,EAAyC,MAAzC,EAAiDoB,yBAAjD;AACArB,MAAAA,MAAM,CAACI,IAAP,CAAYyB,KAAZ,CAAkBC,cAAlB,CAAiC7B,MAAjC,EAAyC,MAAzC,EAAiD0B,uBAAjD;AACD;;;iCAEY;AACXzB,MAAAA,CAAC,CAAC,UAAD,CAAD,CAAc6B,GAAd,CAAkB,SAAlB,EAA6B,cAA7B;AAEA,UAAIT,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAX;AACA,UAAII,OAAO,GAAGL,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAd,CAJW,CAQX;;AAEA,UAAIX,aAAa,GAAG,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAApB,CAVW,CAWX;;AACAX,MAAAA,QAAQ,CAAC6B,OAAT,CAAiB;AACf,mBAAWV,IAAI,CAACW;AADD,OAAjB,EAEG,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5B,YAAIA,MAAM,KAAKnC,MAAM,CAACI,IAAP,CAAYgC,cAAZ,CAA2BC,EAAtC,IAA4CH,OAAO,CAACI,MAAR,GAAiB,CAAjE,EAAoE;AAClE;AACA,cAAI3B,OAAO,GAAGuB,OAAO,CAAC,CAAD,CAAP,CAAWK,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,EAAd;AACA,cAAI7B,QAAQ,GAAGsB,OAAO,CAAC,CAAD,CAAP,CAAWK,QAAX,CAAoBC,QAApB,CAA6BE,GAA7B,EAAf,CAHkE,CAIlE;;AACAvC,UAAAA,QAAQ,CAAC6B,OAAT,CAAiB;AACf,uBAAWJ,OAAO,CAACK;AADJ,WAAjB,EAEG,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5B,gBAAIA,MAAM,KAAKnC,MAAM,CAACI,IAAP,CAAYgC,cAAZ,CAA2BC,EAAtC,IAA4CH,OAAO,CAACI,MAAR,GAAiB,CAAjE,EAAoE;AAClE;AACA,kBAAI7B,QAAQ,GAAGyB,OAAO,CAAC,CAAD,CAAP,CAAWK,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,EAAf;AACA,kBAAI/B,SAAS,GAAGwB,OAAO,CAAC,CAAD,CAAP,CAAWK,QAAX,CAAoBC,QAApB,CAA6BE,GAA7B,EAAhB;AACA7B,cAAAA,aAAa,CAACJ,QAAD,EAAWC,SAAX,EAAsBC,OAAtB,EAA+BC,QAA/B,CAAb,CAJkE,CAKlE;AACD,aAND,MAMO;AACL+B,cAAAA,KAAK,CAAC,oFAAD,CAAL;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAYV,MAAZ;AACAS,cAAAA,OAAO,CAACC,GAAR,CAAYX,OAAZ;AACD;AACF,WAdD,EALkE,CAoBlE;AACD,SArBD,MAqBO;AACLS,UAAAA,KAAK,CAAC,oFAAD,CAAL;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAYV,MAAZ;AACAS,UAAAA,OAAO,CAACC,GAAR,CAAYX,OAAZ;AACD;AACF,OA7BD;AA+BD;;;kCAEazB,Q,EAAUC,S,EAAWC,O,EAASC,Q,EAAU;AACpDgC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA1D,MAAAA,KAAK,CAAC2D,IAAN,CAAW,SAAX,EAAsB;AACpBC,QAAAA,aAAa,EAAEtC,QADK;AAEpBuC,QAAAA,cAAc,EAAEtC,SAFI;AAGpBuC,QAAAA,WAAW,EAAEtC,OAHO;AAIpBuC,QAAAA,YAAY,EAAEtC;AAJM,OAAtB,EAMGuC,IANH,CAMQ,UAAAC,GAAG,EAAI,CAEZ,CARH,EASGC,KATH,CASS,UAAAC,GAAG,EAAI;AAAEV,QAAAA,OAAO,CAACW,KAAR,CAAcD,GAAd;AAAoB,OATtC;AAUD;;;6BAKQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE;AAAO,QAAA,SAAS,EAAC,WAAjB;AAA6B,QAAA,EAAE,EAAC,WAAhC;AAA4C,QAAA,IAAI,EAAC,MAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAO,QAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHF,EAIE;AAAO,QAAA,SAAS,EAAC,WAAjB;AAA6B,QAAA,EAAE,EAAC,WAAhC;AAA4C,QAAA,IAAI,EAAC,MAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAKE;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAoC,QAAA,EAAE,EAAC,QAAvC;AAAgD,QAAA,OAAO,EAAE,KAAKtC,UAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF,EAME;AAAM,QAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAM,QAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CANF,CADF,EAaE,oBAAC,GAAD;AACE,QAAA,2BAA2B,MAD7B;AAEE,QAAA,SAAS,EAAC,KAFZ;AAGE,QAAA,MAAM,EAAEhB,MAHV;AAIE,QAAA,KAAK,EAAE;AAAEwD,UAAAA,MAAM,EAAE,MAAV;AAAkBtC,UAAAA,QAAQ,EAAE,UAA5B;AAAwCuC,UAAAA,KAAK,EAAE;AAA/C,SAJT;AAKE,QAAA,IAAI,EAAE,EALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,CADF;AAwBD;;;;EA9HevE,KAAK,CAACwE,S;;AAiIxB,eAAepD,GAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { places, GeoCoder, Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nimport {\n  Redirect,\n  Switch,\n  Link,\n  Route,\n  BrowserRouter as Router\n} from 'react-router-dom';\n\n\n\nconst google = window.google;\nconst $ = window.$;\nlet geocoder = new google.maps.Geocoder();\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      startLat: \"\",\n      startLong: \"\",\n      destLat: \"\",\n      destLong: \"\",\n    };\n    this.comparePrices = this.comparePrices.bind(this);\n    this.initializeMap = this.initializeMap.bind(this);\n    this.checkPrice = this.checkPrice.bind(this);\n  }\n\n  componentDidMount() {\n    this.initializeMap();\n\n    var marker = new google.maps.Marker({\n      position: centerAroundCurrentLocation,\n      map: map\n    });\n  }\n\n  initializeMap() {\n    function autocompleteStartLocation() {\n      var dest = document.getElementById('destField');\n      var autocomplete = new google.maps.places.Autocomplete(dest);\n    }\n\n    function autocompleteDestination() {\n      var initial = document.getElementById('initField');\n      var autocomplete = new google.maps.places.Autocomplete(initial);\n    }\n\n    google.maps.event.addDomListener(window, 'load', autocompleteStartLocation);\n    google.maps.event.addDomListener(window, 'load', autocompleteDestination);\n  }\n\n  checkPrice() {\n    $('.spinner').css('display', 'inline-block');\n\n    var dest = document.getElementById('destField');\n    var initial = document.getElementById('initField');\n\n\n\n    // Get geocoder instance\n\n    let comparePrices = this.comparePrices.bind(this);\n    // Geocode the address\n    geocoder.geocode({\n      'address': dest.value\n    }, function (results, status) {\n      if (status === google.maps.GeocoderStatus.OK && results.length > 0) {\n        //define results\n        let destLat = results[0].geometry.location.lat();\n        let destLong = results[0].geometry.location.lng();\n        //recurse with init\n        geocoder.geocode({\n          'address': initial.value\n        }, function (results, status) {\n          if (status === google.maps.GeocoderStatus.OK && results.length > 0) {\n            //define results\n            let startLat = results[0].geometry.location.lat();\n            let startLong = results[0].geometry.location.lng();\n            comparePrices(startLat, startLong, destLat, destLong);\n            // show an error if it's not\n          } else {\n            alert(\"Error with destination field! Please try again and make sure the address is valid!\");\n            console.log(status);\n            console.log(results);\n          }\n        });\n        // show an error if it's not\n      } else {\n        alert(\"Error with destination field! Please try again and make sure the address is valid!\");\n        console.log(status);\n        console.log(results);\n      }\n    });\n\n  }\n\n  comparePrices(startLat, startLong, destLat, destLong) {\n    console.log('hello')\n    axios.post('/search', {\n      startLatitude: startLat,\n      startLongitude: startLong,\n      endLatitude: destLat,\n      endLongitude: destLong\n    })\n      .then(res => {\n\n      })\n      .catch(err => { console.error(err) });\n  }\n\n\n\n\n  render() {\n    return (\n      <div>\n        <div className=\"searchpage\">\n          <label htmlFor=\"initField\">Initial Location</label>\n          <input className=\"searchBar\" id=\"initField\" type=\"text\" />\n          <label htmlFor=\"destField\">Destination</label>\n          <input className=\"searchBar\" id=\"destField\" type=\"text\" />\n          <button className=\"btn btn-default\" id=\"search\" onClick={this.checkPrice}>Check Route!</button>\n          <span className=\"spinner\">\n            <span className=\"double-bounce1\"></span>\n            <span className=\"double-bounce2\"></span>\n          </span>\n        </div>\n        \n        <Map\n          centerAroundCurrentLocation\n          className=\"map\"\n          google={google}\n          style={{ height: '100%', position: 'relative', width: '100%' }}\n          zoom={14}\n        />\n      </div>\n\n    )\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}
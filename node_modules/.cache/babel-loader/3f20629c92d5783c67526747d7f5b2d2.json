{"ast":null,"code":"import _classCallCheck from \"/Users/18AkhilA/Documents/GitHub/HackSC_2019_Travel/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/18AkhilA/Documents/GitHub/HackSC_2019_Travel/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/18AkhilA/Documents/GitHub/HackSC_2019_Travel/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/18AkhilA/Documents/GitHub/HackSC_2019_Travel/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/18AkhilA/Documents/GitHub/HackSC_2019_Travel/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/18AkhilA/Documents/GitHub/HackSC_2019_Travel/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/18AkhilA/Documents/GitHub/HackSC_2019_Travel/src/components/home.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport { places, GeoCoder } from 'google-maps-react';\nvar google = window.google;\nvar $ = window.$;\nvar geocoder = new google.maps.GeoCoder();\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      startLat: \"\",\n      startLong: \"\",\n      destLat: \"\",\n      destLong: \"\"\n    };\n    _this.comparePrices = _this.comparePrices.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.initializeMap = _this.initializeMap.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.checkPrice = _this.checkPrice.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initializeMap();\n    }\n  }, {\n    key: \"initializeMap\",\n    value: function initializeMap() {\n      function autocompleteStartLocation() {\n        var dest = document.getElementById('destField');\n        var autocomplete = new google.maps.places.Autocomplete(dest);\n      }\n\n      function autocompleteDestination() {\n        var initial = document.getElementById('initField');\n        var autocomplete = new google.maps.places.Autocomplete(initial);\n      }\n\n      google.maps.event.addDomListener(window, 'load', autocompleteStartLocation);\n      google.maps.event.addDomListener(window, 'load', autocompleteDestination);\n    }\n  }, {\n    key: \"checkPrice\",\n    value: function checkPrice() {\n      $('.spinner').css('display', 'inline-block');\n      var dest = document.getElementById('destField');\n      var initial = document.getElementById('initField'); // Get geocoder instance\n\n      var comparePrices = this.comparePrices.bind(this); // Geocode the address\n\n      geocoder.geocode({\n        'address': dest.value\n      }, function (results, status) {\n        if (status === google.maps.GeocoderStatus.OK && results.length > 0) {\n          //define results\n          var destLat = results[0].geometry.location.lat();\n          var destLong = results[0].geometry.location.lng(); //recurse with init\n\n          geocoder.geocode({\n            'address': initial.value\n          }, function (results, status) {\n            if (status === google.maps.GeocoderStatus.OK && results.length > 0) {\n              //define results\n              var startLat = results[0].geometry.location.lat();\n              var startLong = results[0].geometry.location.lng();\n              comparePrices(startLat, startLong, destLat, destLong); // show an error if it's not\n            } else {\n              alert(\"Error with destination field! Please try again and make sure the address is valid!\");\n              console.log(status);\n              console.log(results);\n            }\n          }); // show an error if it's not\n        } else {\n          alert(\"Error with destination field! Please try again and make sure the address is valid!\");\n          console.log(status);\n          console.log(results);\n        }\n      });\n    }\n  }, {\n    key: \"comparePrices\",\n    value: function comparePrices(startLat, startLong, destLat, destLong) {\n      console.log('hello');\n      axios.post('/search', {\n        startLatitude: startLat,\n        startLongitude: startLong,\n        endLatitude: destLat,\n        endLongitude: destLong\n      }).then(function (res) {}).catch(function (err) {\n        console.error(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"searchpage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"initField\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Initial Location\"), React.createElement(\"input\", {\n        className: \"searchBar\",\n        id: \"initField\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"destField\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Destination\"), React.createElement(\"input\", {\n        className: \"searchBar\",\n        id: \"destField\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-default\",\n        id: \"search\",\n        onClick: this.checkPrice,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Check Route!\"), React.createElement(\"span\", {\n        className: \"spinner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"double-bounce1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"double-bounce2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/18AkhilA/Documents/GitHub/HackSC_2019_Travel/src/components/home.jsx"],"names":["React","axios","places","GeoCoder","google","window","$","geocoder","maps","App","props","state","startLat","startLong","destLat","destLong","comparePrices","bind","initializeMap","checkPrice","autocompleteStartLocation","dest","document","getElementById","autocomplete","Autocomplete","autocompleteDestination","initial","event","addDomListener","css","geocode","value","results","status","GeocoderStatus","OK","length","geometry","location","lat","lng","alert","console","log","post","startLatitude","startLongitude","endLatitude","endLongitude","then","res","catch","err","error","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {places, GeoCoder} from 'google-maps-react';\n\n\nconst google = window.google;\nconst $ = window.$;\nlet geocoder = new google.maps.GeoCoder();\n\n\n\n\nclass App extends React.Component {\n\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            startLat : \"\",\n            startLong : \"\",\n            destLat : \"\",\n            destLong : \"\",\n        };\n        this.comparePrices = this.comparePrices.bind(this);\n        this.initializeMap = this.initializeMap.bind(this);\n        this.checkPrice = this.checkPrice.bind(this);\n    }\n\n    componentDidMount() {\n        this.initializeMap();\n    }\n\n    initializeMap() {\n        function autocompleteStartLocation() {\n          var dest = document.getElementById('destField');\n          var autocomplete = new google.maps.places.Autocomplete(dest);\n        }\n      \n        function autocompleteDestination() {\n          var initial = document.getElementById('initField');\n          var autocomplete = new google.maps.places.Autocomplete(initial);\n        }\n      \n        google.maps.event.addDomListener(window, 'load', autocompleteStartLocation);\n        google.maps.event.addDomListener(window, 'load', autocompleteDestination);\n    }\n\n    checkPrice() {\n        $('.spinner').css('display', 'inline-block');\n\n         var dest = document.getElementById('destField');\n         var initial = document.getElementById('initField');\n\n\n\n        // Get geocoder instance\n        \n        let comparePrices = this.comparePrices.bind(this);\n        // Geocode the address\n        geocoder.geocode({\n          'address': dest.value\n        }, function (results, status) {\n          if (status === google.maps.GeocoderStatus.OK && results.length > 0) {\n            //define results\n            let destLat = results[0].geometry.location.lat();\n            let destLong = results[0].geometry.location.lng();\n            //recurse with init\n            geocoder.geocode({\n                'address': initial.value\n              }, function (results, status) {\n                if (status === google.maps.GeocoderStatus.OK && results.length > 0) {\n                    //define results\n                    let startLat = results[0].geometry.location.lat();\n                    let startLong = results[0].geometry.location.lng();\n                    comparePrices(startLat, startLong, destLat, destLong);\n                    // show an error if it's not\n                } else {\n                  alert(\"Error with destination field! Please try again and make sure the address is valid!\");\n                  console.log(status);\n                  console.log(results);\n                }\n              });    \n            // show an error if it's not\n          } else {\n            alert(\"Error with destination field! Please try again and make sure the address is valid!\");\n            console.log(status);\n            console.log(results);\n          }\n        });\n\n    }\n\n    comparePrices(startLat, startLong, destLat, destLong) {\n        console.log('hello')\n        axios.post('/search', {\n            startLatitude: startLat,\n            startLongitude: startLong,\n            endLatitude: destLat,\n            endLongitude: destLong\n        })\n            .then(res => {\n                \n            })\n            .catch(err => {console.error(err)});\n    }\n\n\n    \n\n    render () {\n        return (\n            <div>\n                <div className=\"searchpage\">\n                    <label htmlFor=\"initField\">Initial Location</label>\n                    <input className=\"searchBar\" id=\"initField\" type=\"text\"/>\n                    <label htmlFor=\"destField\">Destination</label>\n                    <input className=\"searchBar\" id=\"destField\" type=\"text\"/>\n                    <button className=\"btn btn-default\" id=\"search\" onClick={this.checkPrice}>Check Route!</button>\n                    <span className=\"spinner\">\n                        <span className=\"double-bounce1\"></span>\n                        <span className=\"double-bounce2\"></span>\n                    </span>\n                </div>\n            </div>\n        )\n    }   \n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}